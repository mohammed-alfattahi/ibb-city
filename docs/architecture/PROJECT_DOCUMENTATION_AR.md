# ๐ ุงูุชูุซูู ุงูุดุงูู ููุดุฑูุน ุฏููู ุฅุจ ุงูุณูุงุญู

> **Ibb Tourist Guide - Complete Documentation**
>
> ุชุงุฑูุฎ ุงูุชูุซูู: 2026-02-08

---

## ๐ ุฌุฏูู ุงููุญุชููุงุช

1. [ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน](#ูุธุฑุฉ-ุนุงูุฉ-ุนูู-ุงููุดุฑูุน)
2. [ูููู ุงููุดุฑูุน](#ูููู-ุงููุดุฑูุน)
3. [ุชุทุจูู ุงููุณุชุฎุฏููู (users)](#ุชุทุจูู-ุงููุณุชุฎุฏููู-users)
4. [ุชุทุจูู ุงูุฃูุงูู (places)](#ุชุทุจูู-ุงูุฃูุงูู-places)
5. [ุชุทุจูู ุงูุชูุงุนูุงุช (interactions)](#ุชุทุจูู-ุงูุชูุงุนูุงุช-interactions)
6. [ุชุทุจูู ุงูุฅุฏุงุฑุฉ (management)](#ุชุทุจูู-ุงูุฅุฏุงุฑุฉ-management)
7. [ุชุทุจูู ุงููุนุงููุงุช (events)](#ุชุทุจูู-ุงููุนุงููุงุช-events)
8. [ูุธุงู ุฅุฏุงุฑุฉ ุงููุญุชูู (cms)](#ูุธุงู-ุฅุฏุงุฑุฉ-ุงููุญุชูู-cms)
9. [ุฅุนุฏุงุฏุงุช ุงููุดุฑูุน (ibb_guide)](#ุฅุนุฏุงุฏุงุช-ุงููุดุฑูุน-ibb_guide)
10. [ูุงุนุฏุฉ ุงูุจูุงูุงุช](#ูุงุนุฏุฉ-ุงูุจูุงูุงุช)
11. [ุงูู API](#ุงูู-api)

---

## ๐ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน

### ูุตู ุงููุดุฑูุน

**ุฏููู ุฅุจ ุงูุณูุงุญู** ูู ููุตุฉ ุณูุงุญูุฉ ุฑูููุฉ ุดุงููุฉ ููุญุงูุธุฉ ุฅุจ ูู ุงูููู. ุชูุฏู ุฅูู:

- ุชุนุฑูู ุงูุณูุงุญ ุจุงููุนุงูู ุงูุณูุงุญูุฉ ูุงูุชุงุฑูุฎูุฉ
- ุฑุจุท ุงูุดุฑูุงุก ุงูุชุฌุงุฑููู (ููุงุฏูุ ูุทุงุนูุ ุฎุฏูุงุช) ุจุงูุฒูุงุฑ
- ุชูููุฑ ุชุฌุฑุจุฉ ุณูุงุญูุฉ ูุชูุงููุฉ

### ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

| ุงูุชูููุฉ                   | ุงูุงุณุชุฎุฏุงู         |
| ------------------------- | ----------------- |
| **Django 4.x**            | ุฅุทุงุฑ ุงูุนูู ุงูุฎููู |
| **Django REST Framework** | ุจูุงุก ุงูู API      |
| **SQLite/PostgreSQL**     | ูุงุนุฏุฉ ุงูุจูุงูุงุช    |
| **Bootstrap 5**           | ุงูุชุตููู ุงูุฃูุงูู   |
| **JavaScript**            | ุงูุชูุงุนููุฉ         |
| **Celery**                | ุงูููุงู ุงูุฎูููุฉ    |
| **Firebase/OneSignal**    | ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุฉ |

### ุฃููุงุน ุงููุณุชุฎุฏููู

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ุฃููุงุน ุงููุณุชุฎุฏููู                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ค ุณุงุฆุญ (Tourist)      - ุชุตูุญุ ุชููููุ ุญูุธ ุงูููุถูุฉ         โ
โ  ๐ข ุดุฑูู (Partner)      - ุฅุฏุงุฑุฉ ุงูููุดุขุช ูุงูุฅุนูุงูุงุช          โ
โ  ๐๏ธ ููุชุจ ุณูุงุญู         - ุฅุดุฑุงู ุนูู ุงููุญุชูู                 โ
โ  ๐จโ๐ผ ูุฏูุฑ (Admin)       - ุฅุฏุงุฑุฉ ูุงููุฉ ูููุธุงู               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ูููู ุงููุดุฑูุน

```
ibb/
โโโ ๐ users/              # ุชุทุจูู ุงููุณุชุฎุฏููู
โโโ ๐ places/             # ุชุทุจูู ุงูุฃูุงูู ุงูุณูุงุญูุฉ
โโโ ๐ interactions/       # ุชุทุจูู ุงูุชูุงุนูุงุช
โโโ ๐ management/         # ุชุทุจูู ุงูุฅุฏุงุฑุฉ
โโโ ๐ events/             # ุชุทุจูู ุงููุนุงููุงุช
โโโ ๐ cms/                # ูุธุงู ุฅุฏุงุฑุฉ ุงููุญุชูู
โโโ ๐ communities/        # ุชุทุจูู ุงููุฌุชูุนุงุช
โโโ ๐ surveys/            # ุชุทุจูู ุงูุงุณุชุจูุงูุงุช
โโโ ๐ ibb_guide/          # ุฅุนุฏุงุฏุงุช ุงููุดุฑูุน ุงูุฑุฆูุณู
โโโ ๐ templates/          # ููุงูุจ HTML
โโโ ๐ static/             # ุงููููุงุช ุงูุซุงุจุชุฉ (CSS, JS, Images)
โโโ ๐ media/              # ุงููููุงุช ุงููุฑููุนุฉ
โโโ ๐ locale/             # ูููุงุช ุงูุชุฑุฌูุฉ
โโโ ๐ manage.py           # ููุทุฉ ุงูุฏุฎูู
```

---

## ๐ฅ ุชุทุจูู ุงููุณุชุฎุฏููู (users)

### ุงููููุงุช ุงูุฑุฆูุณูุฉ

| ุงูููู              | ุงููุธููุฉ                          |
| ------------------ | -------------------------------- |
| `models.py`        | ููุงุฐุฌ ุงููุณุชุฎุฏููู ููุงุนุฏุฉ ุงูุจูุงูุงุช |
| `views.py`         | ุนุฑูุถ ุงูุชุณุฌูู ูุชุณุฌูู ุงูุฏุฎูู       |
| `views_partner.py` | ุนุฑูุถ ุฎุงุตุฉ ุจุงูุดุฑูุงุก               |
| `forms.py`         | ููุงุฐุฌ ุงูุฅุฏุฎุงู                    |
| `admin.py`         | ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูู Django Admin |
| `email_service.py` | ุฎุฏูุฉ ุฅุฑุณุงู ุงูุฅููููุงุช             |
| `signals.py`       | ุงูุฅุดุงุฑุงุช ุงูุชููุงุฆูุฉ               |
| `mixins.py`        | ุฎูุทุงุช ุงูุตูุงุญูุงุช                  |
| `backends.py`      | ูุธุงู ุงููุตุงุฏูุฉ ุงููุฎุตุต             |

### ุงูููุงุฐุฌ (Models)

#### 1. ูููุฐุฌ ุงููุณุชุฎุฏู (User)

```python
class User(AbstractUser):
    """ูููุฐุฌ ุงููุณุชุฎุฏู ุงูุฑุฆูุณู"""

    # ุฃููุงุน ุงููุณุชุฎุฏููู
    USER_TYPE_CHOICES = [
        ('tourist', 'ุณุงุฆุญ'),
        ('partner', 'ุดุฑูู'),
        ('tourism_office', 'ููุชุจ ุณูุงุญู'),
        ('admin', 'ูุฏูุฑ'),
    ]

    # ุญุงูุงุช ุงูุญุณุงุจ
    ACCOUNT_STATUS_CHOICES = [
        ('active', 'ูุดุท'),
        ('pending', 'ููุฏ ุงููุฑุงุฌุนุฉ'),
        ('rejected', 'ูุฑููุถ'),
        ('suspended', 'ููููู'),
    ]

    # ุงูุญููู
    role = ForeignKey(Role)              # ุงูุฏูุฑ
    full_name = CharField()              # ุงูุงุณู ุงููุงูู
    phone_number = CharField()           # ุฑูู ุงููุงุชู
    profile_image = ImageField()         # ุตูุฑุฉ ุงูููู ุงูุดุฎุตู
    cover_image = ImageField()           # ุตูุฑุฉ ุงูุบูุงู
    bio = TextField()                    # ุงููุจุฐุฉ ุงูุชุนุฑูููุฉ
    fcm_token = TextField()              # ุฑูุฒ ุงูุฅุดุนุงุฑุงุช
    interests = ManyToManyField()        # ุงูุงูุชูุงูุงุช
    account_status = CharField()         # ุญุงูุฉ ุงูุญุณุงุจ
    email_verification_token = CharField() # ุฑูุฒ ุงูุชุญูู
```

#### 2. ูููุฐุฌ ููู ุงูุดุฑูู (PartnerProfile)

```python
class PartnerProfile(TimeStampedModel):
    """ููู ุงูุดุฑูู ุงูุชุฌุงุฑู"""

    # ุญุงูุงุช ุงูุทูุจ
    PARTNER_STATUS_CHOICES = [
        ('pending', 'ููุฏ ุงููุฑุงุฌุนุฉ'),
        ('approved', 'ููุงูู ุนููู'),
        ('rejected', 'ูุฑููุถ'),
        ('info_requested', 'ุจุญุงุฌุฉ ููุนูููุงุช ุฅุถุงููุฉ'),
        ('suspended', 'ููููู'),
    ]

    # ุงูุญููู
    user = OneToOneField(User)           # ุงููุณุชุฎุฏู
    organization_name = CharField()       # ุงุณู ุงูููุธูุฉ
    commercial_reg_no = CharField()       # ุฑูู ุงูุณุฌู ุงูุชุฌุงุฑู
    id_card_image = ImageField()          # ุตูุฑุฉ ุงููููุฉ
    commercial_registry_file = FileField() # ููู ุงูุณุฌู ุงูุชุฌุงุฑู
    status = CharField()                  # ุญุงูุฉ ุงูุทูุจ
    rejection_reason = TextField()        # ุณุจุจ ุงูุฑูุถ
```

#### 3. ููุงุฐุฌ ูุณุงุนุฏุฉ

```python
class Role(Model):
    """ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช"""
    name = CharField()
    description = TextField()
    permissions = ManyToManyField('auth.Permission')

class JobPosition(Model):
    """ุงูููุงุตุจ ุงููุธูููุฉ"""
    title = CharField()
    department = CharField()

class Interest(Model):
    """ุงูุชูุงูุงุช ุงููุณุชุฎุฏููู"""
    name = CharField()
    icon = CharField()  # FontAwesome class
```

### ุงูุนุฑูุถ (Views)

#### ุนุฑูุถ ุงูุชุณุฌูู

| ุงูููุงุณ              | ุงููุธููุฉ         | ุงูุฑุงุจุท              |
| ------------------- | --------------- | ------------------- |
| `VisitorSignUpView` | ุชุณุฌูู ุฒุงุฆุฑ ุฌุฏูุฏ | `/signup/`          |
| `PartnerSignUpView` | ุชุณุฌูู ุดุฑูู ุฌุฏูุฏ | `/partners/signup/` |
| `RegisterView`      | ุชุณุฌูู ุนุจุฑ API   | `/api/register/`    |

#### ุนุฑูุถ ุชุณุฌูู ุงูุฏุฎูู

| ุงูููุงุณ             | ุงููุธููุฉ                                    |
| ------------------ | ------------------------------------------ |
| `UnifiedLoginView` | ุชุณุฌูู ุฏุฎูู ููุญุฏ (ุจุงูุฅูููู ุฃู ุงุณู ุงููุณุชุฎุฏู) |

#### ุนุฑูุถ ุงูููู ุงูุดุฎุตู

| ุงูููุงุณ                     | ุงููุธููุฉ                 |
| -------------------------- | ----------------------- |
| `UserProfileView`          | ุนุฑุถ ูุชุนุฏูู ุงูููู ุงูุดุฎุตู |
| `PartnerProfileUpdateView` | ุชุญุฏูุซ ููู ุงูุดุฑูู        |

#### ุนุฑูุถ ุงูุชุญูู ูู ุงูุฅูููู

| ุงูููุงุณ                   | ุงููุธููุฉ           |
| ------------------------ | ----------------- |
| `VerificationSentView`   | ุตูุญุฉ "ุชู ุงูุฅุฑุณุงู" |
| `EmailVerificationView`  | ุงูุชุญูู ูู ุงูุฑุงุจุท  |
| `ResendVerificationView` | ุฅุนุงุฏุฉ ุงูุฅุฑุณุงู     |

### ุงูุฎุฏูุงุช (Services)

#### ุฎุฏูุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (`email_service.py`)

```python
# ุชูููุฏ ุฑูุฒ ุชุญูู ุขูู
generate_verification_token()

# ุฅุฑุณุงู ุฑุณุงูุฉ ุงูุชุญูู
send_verification_email(user, request)

# ุฅุนุงุฏุฉ ุงูุฅุฑุณุงู ูุน Rate Limiting
resend_verification_email(user, request)
```

### ุณูุฑ ุนูู ุงูุชุณุฌูู

```
โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ
โ  ููุก ุงูููุฑู โ โโโบ โ ุฅูุดุงุก ุญุณุงุจ  โ โโโบ โ ุฅุฑุณุงู ุฅูููู โ
โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ
                                              โ
                                              โผ
โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ
โ  ุญุณุงุจ ูุดุท  โ โโโ โ ุงูุชุญูู ูุงุฌุญ โ โโโ โ ุงูุถุบุท ุฑุงุจุท โ
โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ
```

---

## ๐ ุชุทุจูู ุงูุฃูุงูู (places)

### ุงููููุงุช ุงูุฑุฆูุณูุฉ

| ุงูููู                      | ุงููุธููุฉ             |
| -------------------------- | ------------------- |
| `models/base.py`           | ุงูููุงุฐุฌ ุงูุฃุณุงุณูุฉ    |
| `models/establishments.py` | ุงูููุดุขุช ุงูุชุฌุงุฑูุฉ    |
| `models/landmarks.py`      | ุงููุนุงูู ุงูุณูุงุญูุฉ    |
| `models/routes.py`         | ุงููุณุงุฑุงุช ุงูุณูุงุญูุฉ   |
| `views_public.py`          | ุงูุนุฑูุถ ุงูุนุงูุฉ       |
| `views_partner.py`         | ุนุฑูุถ ุงูุดุฑูู         |
| `views_wizard.py`          | ูุนุงูุฌ ุฅุถุงูุฉ ุงูููุดุขุช |

### ุงูููุงุฐุฌ (Models)

#### 1. ูููุฐุฌ ุงููุฆุฉ (Category)

```python
class Category(TimeStampedModel):
    """ูุฆุงุช ุงูุฃูุงูู"""
    name = CharField()           # ุงูุงุณู
    name_en = CharField()        # ุงูุงุณู ุจุงูุฅูุฌููุฒูุฉ
    icon = CharField()           # ุงูุฃููููุฉ
    parent = ForeignKey('self') # ุงููุฆุฉ ุงูุฃุจ (ููุชุตููู ุงููุฑูู)
    order = IntegerField()       # ุงูุชุฑุชูุจ
```

#### 2. ูููุฐุฌ ุงูููุงู (Place)

```python
class Place(TimeStampedModel):
    """ุงููููุฐุฌ ุงูุฃุณุงุณู ููุฃูุงูู"""

    PLACE_TYPES = [
        ('establishment', 'ููุดุฃุฉ'),
        ('landmark', 'ูุนูู'),
        ('service_point', 'ููุทุฉ ุฎุฏูุฉ'),
    ]

    # ุงูุญููู ุงูุฃุณุงุณูุฉ
    name = CharField()              # ุงูุงุณู
    name_en = CharField()           # ุงูุงุณู ุจุงูุฅูุฌููุฒูุฉ
    description = TextField()        # ุงููุตู
    place_type = CharField()         # ููุน ุงูููุงู
    category = ForeignKey(Category)  # ุงููุฆุฉ

    # ุงููููุน
    latitude = DecimalField()        # ุฎุท ุงูุนุฑุถ
    longitude = DecimalField()       # ุฎุท ุงูุทูู
    address = TextField()            # ุงูุนููุงู

    # ุงูุตูุฑ
    cover_image = ImageField()       # ุตูุฑุฉ ุงูุบูุงู

    # ุงูุญุงูุฉ
    is_active = BooleanField()       # ูุดุท
    is_featured = BooleanField()     # ูููุฒ
```

#### 3. ูููุฐุฌ ุงูููุดุฃุฉ (Establishment)

```python
class Establishment(Place):
    """ุงูููุดุขุช ุงูุชุฌุงุฑูุฉ (ููุงุฏูุ ูุทุงุนูุ ุฅูุฎ)"""

    # ุงูุนูุงูุงุช
    owner = ForeignKey(User)         # ุงููุงูู (ุงูุดุฑูู)

    # ุงููุนูููุงุช ุงูุชุฌุงุฑูุฉ
    price_range = CharField()        # ูุทุงู ุงูุฃุณุนุงุฑ
    working_hours = JSONField()      # ุณุงุนุงุช ุงูุนูู
    amenities = ManyToManyField()    # ุงููุฑุงูู ุงููุชููุฑุฉ

    # ุงูุญุงูุฉ
    approval_status = CharField()    # ุญุงูุฉ ุงูููุงููุฉ

    # ุงูุชูุงุตู
    phone = CharField()
    email = EmailField()
    website = URLField()
```

#### 4. ูููุฐุฌ ุงููุญุฏุฉ (EstablishmentUnit)

```python
class EstablishmentUnit(TimeStampedModel):
    """ูุญุฏุงุช ุฏุงุฎู ุงูููุดุฃุฉ (ุบุฑู ููุฏูุ ุทุงููุงุช ูุทุนู)"""

    establishment = ForeignKey(Establishment)
    name = CharField()               # ุงุณู ุงููุญุฏุฉ
    unit_type = CharField()          # ููุน ุงููุญุฏุฉ
    capacity = IntegerField()        # ุงูุณุนุฉ
    price = DecimalField()           # ุงูุณุนุฑ
    is_available = BooleanField()    # ูุชุงุญุฉ
```

#### 5. ูููุฐุฌ ุงููุนูู (Landmark)

```python
class Landmark(Place):
    """ุงููุนุงูู ุงูุณูุงุญูุฉ ูุงูุชุงุฑูุฎูุฉ"""

    historical_period = CharField()   # ุงููุชุฑุฉ ุงูุชุงุฑูุฎูุฉ
    cultural_significance = TextField() # ุงูุฃูููุฉ ุงูุซูุงููุฉ
    visiting_tips = TextField()       # ูุตุงุฆุญ ุงูุฒูุงุฑุฉ
    best_time_to_visit = CharField()  # ุฃูุถู ููุช ููุฒูุงุฑุฉ
```

#### 6. ูููุฐุฌ ุงููุณุงุฑ ุงูุณูุงุญู (TouristRoute)

```python
class TouristRoute(TimeStampedModel):
    """ุงููุณุงุฑุงุช ุงูุณูุงุญูุฉ"""

    name = CharField()
    description = TextField()
    difficulty_level = CharField()    # ูุณุชูู ุงูุตุนูุจุฉ
    duration_hours = DecimalField()   # ุงููุฏุฉ ุจุงูุณุงุนุงุช
    distance_km = DecimalField()      # ุงููุณุงูุฉ ุจุงููููููุชุฑ
```

### ุงูุนุฑูุถ (Views)

#### ุงูุนุฑูุถ ุงูุนุงูุฉ (`views_public.py`)

| ุงูููุงุณ             | ุงููุธููุฉ         | ุงูุฑุงุจุท          |
| ------------------ | --------------- | --------------- |
| `HomeView`         | ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ | `/`             |
| `PlaceListView`    | ูุงุฆูุฉ ุงูุฃูุงูู   | `/places/`      |
| `PlaceDetailView`  | ุชูุงุตูู ุงูููุงู   | `/places/<id>/` |
| `CategoryListView` | ูุงุฆูุฉ ุงููุฆุงุช    | `/categories/`  |
| `SearchView`       | ุงูุจุญุซ           | `/search/`      |

#### ุนุฑูุถ ุงูุดุฑูู (`views_partner.py`)

| ุงูููุงุณ                    | ุงููุธููุฉ          |
| ------------------------- | ---------------- |
| `PartnerDashboardView`    | ููุญุฉ ุชุญูู ุงูุดุฑูู |
| `EstablishmentCreateView` | ุฅุถุงูุฉ ููุดุฃุฉ      |
| `EstablishmentUpdateView` | ุชุนุฏูู ููุดุฃุฉ      |
| `EstablishmentDeleteView` | ุญุฐู ููุดุฃุฉ        |
| `UnitManagementView`      | ุฅุฏุงุฑุฉ ุงููุญุฏุงุช    |

---

## ๐ฌ ุชุทุจูู ุงูุชูุงุนูุงุช (interactions)

### ุงููููุงุช ุงูุฑุฆูุณูุฉ

| ุงูููู                     | ุงููุธููุฉ               |
| ------------------------- | --------------------- |
| `models/favorites.py`     | ุงูููุถูุฉ ูุฌุฏูู ุงูุฑุญูุงุช |
| `models/reviews.py`       | ุงูุชููููุงุช ูุงูุชุนูููุงุช  |
| `models/reports.py`       | ุงูุจูุงุบุงุช              |
| `models/notifications.py` | ุงูุฅุดุนุงุฑุงุช             |
| `notifications/`          | ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงููุงูู |
| `signals.py`              | ุงูุฅุดุงุฑุงุช ุงูุชููุงุฆูุฉ    |

### ุงูููุงุฐุฌ (Models)

#### 1. ูููุฐุฌ ุงูููุถูุฉ (Favorite)

```python
class Favorite(TimeStampedModel):
    """ุงูุฃูุงูู ุงูููุถูุฉ ูููุณุชุฎุฏู"""

    user = ForeignKey(User)
    place = ForeignKey(Place)

    class Meta:
        unique_together = ['user', 'place']
```

#### 2. ูููุฐุฌ ุฌุฏูู ุงูุฑุญูุงุช (Itinerary)

```python
class Itinerary(TimeStampedModel):
    """ุฌุฏูู ุฑุญูุฉ ุงููุณุชุฎุฏู"""

    user = ForeignKey(User)
    title = CharField()
    start_date = DateField()
    end_date = DateField()
    is_public = BooleanField()

class ItineraryItem(TimeStampedModel):
    """ุนูุตุฑ ูู ุฌุฏูู ุงูุฑุญูุฉ"""

    itinerary = ForeignKey(Itinerary)
    place = ForeignKey(Place)
    day_number = IntegerField()
    visit_time = TimeField()
    notes = TextField()
```

#### 3. ูููุฐุฌ ุงูุชูููู (Review)

```python
class Review(TimeStampedModel):
    """ุชููููุงุช ุงูุฃูุงูู"""

    user = ForeignKey(User)
    place = ForeignKey(Place)
    rating = IntegerField(1-5)        # ุงูุชูููู ูู 1 ุฅูู 5
    comment = TextField()              # ุงูุชุนููู

    # ุงูุตูุฑ ุงููุฑููุฉ
    images = ManyToManyField(ReviewImage)

    # ุงูุญุงูุฉ
    is_approved = BooleanField()
    is_featured = BooleanField()
```

#### 4. ูููุฐุฌ ุงูุจูุงุบ (Report)

```python
class Report(TimeStampedModel):
    """ุจูุงุบุงุช ุงููุณุชุฎุฏููู"""

    REPORT_TYPES = [
        ('spam', 'ุณุจุงู'),
        ('inappropriate', 'ูุญุชูู ุบูุฑ ูุงุฆู'),
        ('fake', 'ูุญุชูู ูุฒูู'),
        ('other', 'ุฃุฎุฑู'),
    ]

    reporter = ForeignKey(User)
    content_type = ForeignKey(ContentType)  # ููุน ุงููุญุชูู ุงูููุจูููุบ ุนูู
    object_id = IntegerField()
    reason = CharField()
    description = TextField()
    status = CharField()  # pending, reviewed, resolved
```

#### 5. ูููุฐุฌ ุงูุฅุดุนุงุฑ (Notification)

```python
class Notification(TimeStampedModel):
    """ุฅุดุนุงุฑุงุช ุงููุณุชุฎุฏููู"""

    NOTIFICATION_TYPES = [
        ('review_approved', 'ุชูุช ุงูููุงููุฉ ุนูู ุชููููู'),
        ('new_follower', 'ูุชุงุจุน ุฌุฏูุฏ'),
        ('partner_approved', 'ุชูุช ุงูููุงููุฉ ุนูู ุทูุจ ุงูุดุฑุงูุฉ'),
        ('system', 'ุฅุดุนุงุฑ ูุธุงู'),
        # ... ุงููุฒูุฏ
    ]

    recipient = ForeignKey(User)
    notification_type = CharField()
    title = CharField()
    message = TextField()
    is_read = BooleanField()
    action_url = URLField()
```

### ูุธุงู ุงูุฅุดุนุงุฑุงุช (`notifications/`)

```
notifications/
โโโ __init__.py
โโโ base.py           # ุงูููุงุณ ุงูุฃุณุงุณู
โโโ dispatcher.py     # ููุฒุน ุงูุฅุดุนุงุฑุงุช
โโโ handlers.py       # ูุนุงูุฌุงุช ุงูุฅุดุนุงุฑุงุช
โโโ outbox.py         # ุตูุฏูู ุงูุฅุฑุณุงู (Async)
โโโ types.py          # ุฃููุงุน ุงูุฅุดุนุงุฑุงุช
โโโ push_service.py   # ุฎุฏูุฉ Push Notifications
```

---

## โ๏ธ ุชุทุจูู ุงูุฅุฏุงุฑุฉ (management)

### ุงููููุงุช ุงูุฑุฆูุณูุฉ

| ุงูููู                      | ุงููุธููุฉ            |
| -------------------------- | ------------------ |
| `models/advertisements.py` | ุงูุฅุนูุงูุงุช          |
| `models/requests.py`       | ุงูุทูุจุงุช ูุงูููุงููุงุช |
| `models/alerts.py`         | ุงูุชูุจููุงุช ูุงูุทูุงุฑุฆ |
| `models/content.py`        | ุฅุฏุงุฑุฉ ุงููุญุชูู      |
| `models/audit.py`          | ุณุฌูุงุช ุงูุชุฏููู      |
| `views_admin.py`           | ุนุฑูุถ ููุญุฉ ุงูุชุญูู   |
| `views_approvals.py`       | ุนุฑูุถ ุงูููุงููุงุช     |

### ุงูููุงุฐุฌ (Models)

#### 1. ูููุฐุฌ ุงูุฅุนูุงู (Advertisement)

```python
class Advertisement(TimeStampedModel):
    """ุฅุนูุงูุงุช ุงูุดุฑูุงุก"""

    AD_TYPES = [
        ('banner', 'ุจุงูุฑ'),
        ('featured', 'ูููุฒ'),
        ('sponsored', 'ูุฏุนูู'),
    ]

    owner = ForeignKey(User)          # ุงููุนูู
    title = CharField()
    description = TextField()
    image = ImageField()
    target_url = URLField()
    ad_type = CharField()

    # ุงููุชุฑุฉ
    start_date = DateField()
    end_date = DateField()

    # ุงูุฅุญุตุงุฆูุงุช
    impressions = IntegerField()      # ุนุฏุฏ ุงููุดุงูุฏุงุช
    clicks = IntegerField()           # ุนุฏุฏ ุงูููุฑุงุช

    # ุงูุญุงูุฉ
    status = CharField()              # pending, approved, rejected, active
```

#### 2. ูููุฐุฌ ุงูุทูุจ (Request)

```python
class Request(TimeStampedModel):
    """ุทูุจุงุช ุงูููุงููุฉ"""

    REQUEST_TYPES = [
        ('partner_upgrade', 'ุชุฑููุฉ ูุดุฑูู'),
        ('establishment', 'ุฅุถุงูุฉ ููุดุฃุฉ'),
        ('advertisement', 'ุฅุนูุงู'),
    ]

    requester = ForeignKey(User)
    request_type = CharField()
    status = CharField()
    content_type = ForeignKey(ContentType)
    object_id = IntegerField()
```

#### 3. ูููุฐุฌ ุชูุจูู ุงูุทูุงุฑุฆ (EmergencyAlert)

```python
class EmergencyAlert(TimeStampedModel):
    """ุชูุจููุงุช ุงูุทูุงุฑุฆ"""

    ALERT_TYPES = [
        ('weather', 'ุทูุณ'),
        ('security', 'ุฃููู'),
        ('health', 'ุตุญู'),
        ('general', 'ุนุงู'),
    ]

    title = CharField()
    message = TextField()
    alert_type = CharField()
    severity = CharField()           # low, medium, high, critical
    is_active = BooleanField()
```

#### 4. ูููุฐุฌ ุฌูุฉ ุงูุทูุงุฑุฆ (EmergencyContact)

```python
class EmergencyContact(TimeStampedModel):
    """ุฃุฑูุงู ุงูุทูุงุฑุฆ"""

    name = CharField()               # ุงูุงุณู (ุงูุดุฑุทุฉุ ุงูุฅุณุนุงูุ ุฅูุฎ)
    phone = CharField()
    category = CharField()
    is_active = BooleanField()
```

#### 5. ููุงุฐุฌ ุฅุฏุงุฑุฉ ุงููุญุชูู

```python
class HeroSlide(TimeStampedModel):
    """ุดุฑุงุฆุญ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ"""
    title = CharField()
    subtitle = TextField()
    image = ImageField()
    button_text = CharField()
    button_url = URLField()
    order = IntegerField()

class SiteSetting(TimeStampedModel):
    """ุฅุนุฏุงุฏุงุช ุงููููุน"""
    key = CharField(unique=True)
    value = TextField()
    value_type = CharField()  # string, int, bool, json

class Menu(TimeStampedModel):
    """ุงูููุงุฆู"""
    name = CharField()
    location = CharField()  # header, footer, sidebar

    feature_name = CharField()
    is_enabled = BooleanField()
    description = TextField()

### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ (New Features)

#### 1. ุชุตุฏูุฑ ุงูุจูุงูุงุช (Data Export)
- **ุงูููุงุณ**: `AdminExportView`
- **ุงููุธููุฉ**: ุชุตุฏูุฑ ุจูุงูุงุช ุงููุณุชุฎุฏูููุ ุงูุดุฑูุงุกุ ูุงูููุดุขุช ุฅูู ูููุงุช CSV.
- **ุงูุตูุงุญูุงุช**: ุงููุฏูุฑ ุงูุนุงู (Superuser) ููุท.
- **ุงููุณุงุฑ**: `/custom-admin/export/<model_type>/`

#### 2. ูุธุงู ุงููุฑุงุณูุฉ (Broadcast System)
- **ุงููููุฐุฌ**: `SystemAlert`
- **ุงููุธููุฉ**: ุฅุฑุณุงู ุชูุจููุงุช ุนุงูุฉ ุฃู ููุฌูุฉ (ููุณูุงุญุ ููุดุฑูุงุกุ ูููู) ุชุธูุฑ ูู ูุฑูุฒ ุงูุฅุดุนุงุฑุงุช.
- **ุงูุฃููุงุน**: (info, warning, danger, success).
- **ุงูุงุณุชูุฏุงู**: ูููู ุชุญุฏูุฏ `target_audience`.

#### 3. ุชุญูููุงุช ุงูุดุฑูู (Partner Analytics)
- **ุงูููุงุณ**: `PartnerAnalyticsAPI`
- **ุงููุธููุฉ**: ูุงุฌูุฉ API ุชููุฑ ุจูุงูุงุช ุฃุฏุงุก ุงูุฅุนูุงูุงุช (ุงููุดุงูุฏุงุช ูุงูููุฑุงุช) ูููุญุฉ ุชุญูู ุงูุดุฑูู.
- **ุงูุชูุซูู ุงูุจุตุฑู**: ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ ุจุงุณุชุฎุฏุงู Chart.js.
```

### ููุญุฉ ุงูุชุญูู ุงููุฎุตุตุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ููุญุฉ ุชุญูู ุงูุฃุฏูู                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ ุงูุฅุญุตุงุฆูุงุช     โ  ๐ ุงูุทูุจุงุช ุงููุนููุฉ                    โ
โ  โข ูุณุชุฎุฏููู: 500   โ  โข ุทูุจุงุช ุดุฑุงูุฉ: 5                      โ
โ  โข ุฃูุงูู: 200      โ  โข ููุดุขุช ูููุฑุงุฌุนุฉ: 3                   โ
โ  โข ุชููููุงุช: 1200   โ  โข ุฅุนูุงูุงุช ููููุงููุฉ: 2                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ ุงูุชูุจููุงุช ุงูุฃุฎูุฑุฉ                                       โ
โ  โข ุชูููู ุฌุฏูุฏ ููููุดุฃุฉ X                                     โ
โ  โข ุจูุงุบ ุนู ูุญุชูู ุบูุฑ ูุงุฆู                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุชุทุจูู ุงููุนุงููุงุช (events)

### ุงูููุงุฐุฌ

```python
class Event(TimeStampedModel):
    """ุงููุนุงููุงุช ูุงูููุงุณู"""

    EVENT_TYPES = [
        ('festival', 'ููุฑุฌุงู'),
        ('exhibition', 'ูุนุฑุถ'),
        ('concert', 'ุญูู'),
        ('season', 'ููุณู'),
    ]

    title = CharField()
    description = TextField()
    event_type = CharField()

    # ุงูุชูุงุฑูุฎ
    start_date = DateTimeField()
    end_date = DateTimeField()

    # ุงููููุน
    location = ForeignKey(Place, null=True)
    address = TextField()

    # ุงูุตูุฑ
    cover_image = ImageField()

    # ุงูุชุณุนูุฑ
    is_free = BooleanField()
    price = DecimalField()
```

---

## ๐จ ูุธุงู ุฅุฏุงุฑุฉ ุงููุญุชูู (cms)

### ุงูุบุฑุถ

ุงูุชุญูู ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุฏูู ุชุนุฏูู ุงูููุฏ.

### ุงูููุงุฐุฌ ุงูุฑุฆูุณูุฉ

```python
class UIZone(TimeStampedModel):
    """ููุงุทู ุงููุงุฌูุฉ"""
    name = CharField()
    template_name = CharField()

class ZoneComponent(TimeStampedModel):
    """ููููุงุช ุงูููุทูุฉ"""
    zone = ForeignKey(UIZone)
    component = ForeignKey(UIComponent)
    order = IntegerField()
    is_visible = BooleanField()

class UIComponent(TimeStampedModel):
    """ุงูููููุงุช ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู"""
    name = CharField()
    template = TextField()
    css_class = CharField()
    settings = JSONField()
```

---

## โ๏ธ ุฅุนุฏุงุฏุงุช ุงููุดุฑูุน (ibb_guide)

### ูููู ุงูุฅุนุฏุงุฏุงุช

```
ibb_guide/settings/
โโโ base.py          # ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ
โโโ dev.py           # ุฅุนุฏุงุฏุงุช ุงูุชุทููุฑ
โโโ prod.py          # ุฅุนุฏุงุฏุงุช ุงูุฅูุชุงุฌ
โโโ test.py          # ุฅุนุฏุงุฏุงุช ุงูุงุฎุชุจุงุฑ
```

### ุงููููุงุช ุงูุฑุฆูุณูุฉ

| ุงูููู            | ุงููุธููุฉ                   |
| ---------------- | ------------------------- |
| `urls.py`        | ุฌููุน ูุณุงุฑุงุช URL           |
| `base_models.py` | ุงูููุงุฐุฌ ุงูุฃุณุงุณูุฉ ุงููุดุชุฑูุฉ |
| `validators.py`  | ุฏูุงู ุงูุชุญูู               |
| `policies.py`    | ุณูุงุณุงุช ุงูุฃูุงู ูุงูุตูุงุญูุงุช  |
| `middleware.py`  | ุงูู Middleware ุงููุฎุตุต     |
| `mixins.py`      | ุงูุฎูุทุงุช ุงููุดุชุฑูุฉ          |

### ุงููููุฐุฌ ุงูุฃุณุงุณู (TimeStampedModel)

```python
class TimeStampedModel(models.Model):
    """ูููุฐุฌ ุฃุณุงุณู ูุน ุชุชุจุน ุงูููุช"""

    created_at = DateTimeField(auto_now_add=True)
    updated_at = DateTimeField(auto_now=True)

    class Meta:
        abstract = True
```

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ูุฎุทุท ุงูุนูุงูุงุช (ERD)

```
โโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโ
โ    User     โโโโฌโโโบโPartnerProfileโ     โ   Category  โ
โโโโโโโโโโโโโโโ  โ   โโโโโโโโโโโโโโโ      โโโโโโโโฌโโโโโโโ
       โ         โ                               โ
       โ         โ   โโโโโโโโโโโโโโโ             โ
       โ         โโโโบโ Establishmentโโโโโโโโโโโโโโ
       โ             โโโโโโโโฌโโโโโโโ
       โ                    โ
       โผ                    โผ
โโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโ
โ   Review    โ      โ    Unit     โ
โโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโ
       โ
       โผ
โโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโ
โ  Favorite   โ      โ Notificationโ
โโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโ
```

### ุงูููุงุฐุฌ ุงูุฑุฆูุณูุฉ ุญุณุจ ุงูุชุทุจูู

| ุงูุชุทุจูู      | ุงูููุงุฐุฌ                                                                   |
| ------------ | ------------------------------------------------------------------------- |
| users        | User, PartnerProfile, Role, JobPosition, Interest                         |
| places       | Category, Place, Establishment, EstablishmentUnit, Landmark, TouristRoute |
| interactions | Favorite, Itinerary, Review, Report, Notification                         |
| management   | Advertisement, Request, EmergencyAlert, HeroSlide, SiteSetting            |

---

## ๐ ุงูู API

### ููุงุท ุงูููุงูุฉ ุงูุฑุฆูุณูุฉ

#### ุงููุณุชุฎุฏููู

```
POST   /api/register/              # ุชุณุฌูู ุฌุฏูุฏ
POST   /api/login/                 # ุชุณุฌูู ุฏุฎูู
GET    /api/users/me/              # ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุญุงูู
PUT    /api/users/me/              # ุชุญุฏูุซ ุงูุจูุงูุงุช
```

#### ุงูุฃูุงูู

```
GET    /api/places/                # ูุงุฆูุฉ ุงูุฃูุงูู
GET    /api/places/<id>/           # ุชูุงุตูู ููุงู
GET    /api/categories/            # ูุงุฆูุฉ ุงููุฆุงุช
GET    /api/places/search/         # ุงูุจุญุซ
```

#### ุงูุชูุงุนูุงุช

```
POST   /api/favorites/             # ุฅุถุงูุฉ ููููุถูุฉ
DELETE /api/favorites/<id>/        # ุฅุฒุงูุฉ ูู ุงูููุถูุฉ
POST   /api/reviews/               # ุฅุถุงูุฉ ุชูููู
GET    /api/reviews/<place_id>/    # ุชููููุงุช ููุงู
```

---

## ๐ ุงูุฃูุงู

### ููุฒุงุช ุงูุฃูุงู ุงูููุทุจูุฉ

1. **Rate Limiting**: ุชุญุฏูุฏ ุนุฏุฏ ุงูุทูุจุงุช
2. **CSRF Protection**: ุญูุงูุฉ ูู ูุฌูุงุช CSRF
3. **XSS Protection**: ุญูุงูุฉ ูู XSS
4. **Email Verification**: ุงูุชุญูู ูู ุงูุจุฑูุฏ
5. **Account Status Check**: ุงูุชุญูู ูู ุญุงูุฉ ุงูุญุณุงุจ
6. **Role-Based Access Control (RBAC)**: ุตูุงุญูุงุช ุญุณุจ ุงูุฏูุฑ

### Mixins ุงูุตูุงุญูุงุช

```python
# ุงูุชุฃูุฏ ูู ุฃู ุงููุณุชุฎุฏู ุดุฑูู ูุนุชูุฏ
class ApprovedPartnerRequiredMixin:
    """ูุชุญูู ูู ุฃู ุงููุณุชุฎุฏู ุดุฑูู ูุนุชูุฏ"""

# ุงูุชุญูู ูู ุตูุงุญูุฉ ูุนููุฉ
class RbacPermissionRequiredMixin:
    """ูุชุญูู ูู ุตูุงุญูุฉ ุนุจุฑ RBACService"""
    permission_required = 'places.add_place'
```

---

## ๐ฑ ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุฉ

### ุงูุฎุฏูุงุช ุงููุฏุนููุฉ

- **Firebase Cloud Messaging (FCM)**: ูุชุทุจููุงุช Android
- **OneSignal**: ููููุจ ูุงูููุจุงูู

### ุฃููุงุน ุงูุฅุดุนุงุฑุงุช

- ุฅุดุนุงุฑุงุช ุงููุธุงู
- ุฅุดุนุงุฑุงุช ุงูููุงููุงุช
- ุฅุดุนุงุฑุงุช ุงูุชููููุงุช
- ุฅุดุนุงุฑุงุช ุงููุชุงุจุนุงุช
- ุชูุจููุงุช ุงูุทูุงุฑุฆ

---

## ๐ ููุงุญุธุงุช ูููุทูุฑูู

### ุชุดุบูู ุงููุดุฑูุน ูุญููุงู

```bash
# ุชุซุจูุช ุงููุชุทูุจุงุช
pip install -r requirements.txt

# ุชุทุจูู ุงูุชูุฌูุฑุงุช
python manage.py migrate

# ุชุดุบูู ุงูุณูุฑูุฑ
python manage.py runserver
```

### ุฅูุดุงุก ูุณุชุฎุฏู ุฃุฏูู

```bash
python manage.py createsuperuser
```

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช

```bash
python manage.py test
```

---

## ๐ ูุนูููุงุช ุงูุชูุงุตู

- **ุงููุดุฑูุน**: ุฏููู ุฅุจ ุงูุณูุงุญู
- **ุงูุฅุตุฏุงุฑ**: 1.0
- **ุชุงุฑูุฎ ุงูุชูุซูู**: 2026-02-08

---

> **ููุงุญุธุฉ**: ูุฐุง ุงูุชูุซูู ุชู ุฅูุดุงุคู ุชููุงุฆูุงู ููุฏ ูุญุชุงุฌ ููุฑุงุฌุนุฉ ูุชุญุฏูุซ ุฏูุฑู.
